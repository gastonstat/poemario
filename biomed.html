<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Handling Strings with R</title>
  <meta name="description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Handling Strings with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://gastonsanchez.com/r4strings/" />
  
  <meta property="og:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  <meta name="github-repo" content="gastonstat/r4strings" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Handling Strings with R" />
  
  <meta name="twitter:description" content="This book aims to provide a panoramic perspective of the wide array of string manipulations that you can perform with R. If you are new to R, or lack experience working with character data, this book will help you get started with the basics of handling strings. Likewise, if you are already familiar with R, you will find material that shows you how to do more advanced string and text processing operations." />
  

<meta name="author" content="Gaston Sanchez">


<meta name="date" content="2018-04-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="logs.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handling Strings with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-this-book"><i class="fa fa-check"></i><b>1.1</b> About this book</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#structure-of-the-book"><i class="fa fa-check"></i><b>1.1.1</b> Structure of the book</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#main-resources"><i class="fa fa-check"></i><b>1.1.2</b> Main Resources</a></li>
<li class="chapter" data-level="1.1.3" data-path="intro.html"><a href="intro.html#acknowledgements"><i class="fa fa-check"></i><b>1.1.3</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.1.4" data-path="intro.html"><a href="intro.html#colophon"><i class="fa fa-check"></i><b>1.1.4</b> Colophon</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Characters</b></span></li>
<li class="chapter" data-level="2" data-path="chars.html"><a href="chars.html"><i class="fa fa-check"></i><b>2</b> Character Strings in R</a><ul>
<li class="chapter" data-level="2.1" data-path="chars.html"><a href="chars.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="chars.html"><a href="chars.html#common-use-of-strings-in-r"><i class="fa fa-check"></i><b>2.2</b> Common use of strings in R</a></li>
<li class="chapter" data-level="2.3" data-path="chars.html"><a href="chars.html#creating-character-strings"><i class="fa fa-check"></i><b>2.3</b> Creating Character Strings</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chars.html"><a href="chars.html#empty-string"><i class="fa fa-check"></i><b>2.3.1</b> Empty string</a></li>
<li class="chapter" data-level="2.3.2" data-path="chars.html"><a href="chars.html#empty-character-vector"><i class="fa fa-check"></i><b>2.3.2</b> Empty character vector</a></li>
<li class="chapter" data-level="2.3.3" data-path="chars.html"><a href="chars.html#function-c"><i class="fa fa-check"></i><b>2.3.3</b> Function <code>c()</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="chars.html"><a href="chars.html#is.character-and-as.character"><i class="fa fa-check"></i><b>2.3.4</b> <code>is.character()</code> and <code>as.character()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chars.html"><a href="chars.html#behavior-of-r-objects-with-character-strings"><i class="fa fa-check"></i><b>2.4</b> Behavior of R objects with character strings</a></li>
<li class="chapter" data-level="2.5" data-path="chars.html"><a href="chars.html#the-workhorse-function-paste"><i class="fa fa-check"></i><b>2.5</b> The workhorse function <code>paste()</code></a></li>
<li class="chapter" data-level="2.6" data-path="chars.html"><a href="chars.html#exercises"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Formatting</b></span></li>
<li class="chapter" data-level="3" data-path="formatting.html"><a href="formatting.html"><i class="fa fa-check"></i><b>3</b> Formatting Text and Numbers</a><ul>
<li class="chapter" data-level="3.1" data-path="formatting.html"><a href="formatting.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="formatting.html"><a href="formatting.html#printing-and-formatting"><i class="fa fa-check"></i><b>3.2</b> Printing and formatting</a></li>
<li class="chapter" data-level="3.3" data-path="formatting.html"><a href="formatting.html#generic-printing"><i class="fa fa-check"></i><b>3.3</b> Generic printing</a><ul>
<li class="chapter" data-level="3.3.1" data-path="formatting.html"><a href="formatting.html#when-to-use-print"><i class="fa fa-check"></i><b>3.3.1</b> When to use <code>print()</code>?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="formatting.html"><a href="formatting.html#concatenate-and-print-with-cat"><i class="fa fa-check"></i><b>3.4</b> Concatenate and print with <code>cat()</code></a></li>
<li class="chapter" data-level="3.5" data-path="formatting.html"><a href="formatting.html#encoding-strings-with-format"><i class="fa fa-check"></i><b>3.5</b> Encoding strings with <code>format()</code></a></li>
<li class="chapter" data-level="3.6" data-path="formatting.html"><a href="formatting.html#exercises-1"><i class="fa fa-check"></i><b>3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="c-style-formatting.html"><a href="c-style-formatting.html"><i class="fa fa-check"></i><b>4</b> C-style Formatting</a><ul>
<li class="chapter" data-level="4.1" data-path="c-style-formatting.html"><a href="c-style-formatting.html#c-style-formatting-options"><i class="fa fa-check"></i><b>4.1</b> C-style formatting options</a><ul>
<li class="chapter" data-level="4.1.1" data-path="c-style-formatting.html"><a href="c-style-formatting.html#format-slot-syntax"><i class="fa fa-check"></i><b>4.1.1</b> Format Slot Syntax</a></li>
<li class="chapter" data-level="4.1.2" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-basic-sprintf"><i class="fa fa-check"></i><b>4.1.2</b> Example: basic <code>sprintf()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-file-names"><i class="fa fa-check"></i><b>4.1.3</b> Example: File Names</a></li>
<li class="chapter" data-level="4.1.4" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-fahrenheit-to-celsius"><i class="fa fa-check"></i><b>4.1.4</b> Example: Fahrenheit to Celsius</a></li>
<li class="chapter" data-level="4.1.5" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-car-traveled-distance"><i class="fa fa-check"></i><b>4.1.5</b> Example: Car Traveled Distance</a></li>
<li class="chapter" data-level="4.1.6" data-path="c-style-formatting.html"><a href="c-style-formatting.html#example-coffee-prices"><i class="fa fa-check"></i><b>4.1.6</b> Example: Coffee Prices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="input-and-output.html"><a href="input-and-output.html"><i class="fa fa-check"></i><b>5</b> Input and Output</a><ul>
<li class="chapter" data-level="5.1" data-path="input-and-output.html"><a href="input-and-output.html#output"><i class="fa fa-check"></i><b>5.1</b> Output</a><ul>
<li class="chapter" data-level="5.1.1" data-path="input-and-output.html"><a href="input-and-output.html#concatenating-output"><i class="fa fa-check"></i><b>5.1.1</b> Concatenating output</a></li>
<li class="chapter" data-level="5.1.2" data-path="input-and-output.html"><a href="input-and-output.html#sinking-output"><i class="fa fa-check"></i><b>5.1.2</b> Sinking output</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="input-and-output.html"><a href="input-and-output.html#exporting-tables"><i class="fa fa-check"></i><b>5.2</b> Exporting tables</a></li>
</ul></li>
<li class="part"><span><b>III Manipulations</b></span></li>
<li class="chapter" data-level="6" data-path="manip.html"><a href="manip.html"><i class="fa fa-check"></i><b>6</b> Basic String Manipulations</a><ul>
<li class="chapter" data-level="6.1" data-path="manip.html"><a href="manip.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="manip.html"><a href="manip.html#basic-manipulations"><i class="fa fa-check"></i><b>6.2</b> Basic Manipulations</a></li>
<li class="chapter" data-level="6.3" data-path="manip.html"><a href="manip.html#counting-characters"><i class="fa fa-check"></i><b>6.3</b> Counting characters</a></li>
<li class="chapter" data-level="6.4" data-path="manip.html"><a href="manip.html#casefolding"><i class="fa fa-check"></i><b>6.4</b> Casefolding</a></li>
<li class="chapter" data-level="6.5" data-path="manip.html"><a href="manip.html#translating-characters"><i class="fa fa-check"></i><b>6.5</b> Translating characters</a></li>
<li class="chapter" data-level="6.6" data-path="manip.html"><a href="manip.html#abbreviating-strings"><i class="fa fa-check"></i><b>6.6</b> Abbreviating strings</a></li>
<li class="chapter" data-level="6.7" data-path="manip.html"><a href="manip.html#replacing-strings"><i class="fa fa-check"></i><b>6.7</b> Replacing strings</a></li>
<li class="chapter" data-level="6.8" data-path="manip.html"><a href="manip.html#set-operations"><i class="fa fa-check"></i><b>6.8</b> Set Operations</a><ul>
<li class="chapter" data-level="6.8.1" data-path="manip.html"><a href="manip.html#set-union-with-union"><i class="fa fa-check"></i><b>6.8.1</b> Set union with <code>union()</code></a></li>
<li class="chapter" data-level="6.8.2" data-path="manip.html"><a href="manip.html#set-intersection-with-intersect"><i class="fa fa-check"></i><b>6.8.2</b> Set intersection with <code>intersect()</code></a></li>
<li class="chapter" data-level="6.8.3" data-path="manip.html"><a href="manip.html#set-difference-with-setdiff"><i class="fa fa-check"></i><b>6.8.3</b> Set difference with <code>setdiff()</code></a></li>
<li class="chapter" data-level="6.8.4" data-path="manip.html"><a href="manip.html#set-equality-with-setequal"><i class="fa fa-check"></i><b>6.8.4</b> Set equality with <code>setequal()</code></a></li>
<li class="chapter" data-level="6.8.5" data-path="manip.html"><a href="manip.html#exact-equality-with-identical"><i class="fa fa-check"></i><b>6.8.5</b> Exact equality with <code>identical()</code></a></li>
<li class="chapter" data-level="6.8.6" data-path="manip.html"><a href="manip.html#element-contained-with-is.element"><i class="fa fa-check"></i><b>6.8.6</b> Element contained with <code>is.element()</code></a></li>
<li class="chapter" data-level="6.8.7" data-path="manip.html"><a href="manip.html#sorting-with-sort"><i class="fa fa-check"></i><b>6.8.7</b> Sorting with <code>sort()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stringr-basics.html"><a href="stringr-basics.html"><i class="fa fa-check"></i><b>7</b> Stringr Basics</a><ul>
<li class="chapter" data-level="7.1" data-path="stringr-basics.html"><a href="stringr-basics.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="stringr-basics.html"><a href="stringr-basics.html#package-stringr"><i class="fa fa-check"></i><b>7.2</b> Package <code>stringr</code></a></li>
<li class="chapter" data-level="7.3" data-path="stringr-basics.html"><a href="stringr-basics.html#basic-string-operations"><i class="fa fa-check"></i><b>7.3</b> Basic String Operations</a><ul>
<li class="chapter" data-level="7.3.1" data-path="stringr-basics.html"><a href="stringr-basics.html#concatenating-with-str_c"><i class="fa fa-check"></i><b>7.3.1</b> Concatenating with <code>str_c()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="stringr-basics.html"><a href="stringr-basics.html#number-of-characters-with-str_length"><i class="fa fa-check"></i><b>7.3.2</b> Number of characters with <code>str_length()</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="stringr-basics.html"><a href="stringr-basics.html#substring-with-str_sub"><i class="fa fa-check"></i><b>7.3.3</b> Substring with <code>str_sub()</code></a></li>
<li class="chapter" data-level="7.3.4" data-path="stringr-basics.html"><a href="stringr-basics.html#duplication-with-str_dup"><i class="fa fa-check"></i><b>7.3.4</b> Duplication with <code>str_dup()</code></a></li>
<li class="chapter" data-level="7.3.5" data-path="stringr-basics.html"><a href="stringr-basics.html#padding-with-str_pad"><i class="fa fa-check"></i><b>7.3.5</b> Padding with <code>str_pad()</code></a></li>
<li class="chapter" data-level="7.3.6" data-path="stringr-basics.html"><a href="stringr-basics.html#wrapping-with-str_wrap"><i class="fa fa-check"></i><b>7.3.6</b> Wrapping with <code>str_wrap()</code></a></li>
<li class="chapter" data-level="7.3.7" data-path="stringr-basics.html"><a href="stringr-basics.html#trimming-with-str_trim"><i class="fa fa-check"></i><b>7.3.7</b> Trimming with <code>str_trim()</code></a></li>
<li class="chapter" data-level="7.3.8" data-path="stringr-basics.html"><a href="stringr-basics.html#word-extraction-with-word"><i class="fa fa-check"></i><b>7.3.8</b> Word extraction with <code>word()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html"><i class="fa fa-check"></i><b>8</b> Basic Manipulation Examples</a><ul>
<li class="chapter" data-level="8.1" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#introduction-4"><i class="fa fa-check"></i><b>8.1</b> Introduction</a><ul>
<li class="chapter" data-level="8.1.1" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-names-of-files"><i class="fa fa-check"></i><b>8.1.1</b> Example: Names of files</a></li>
<li class="chapter" data-level="8.1.2" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-valid-color-names"><i class="fa fa-check"></i><b>8.1.2</b> Example: Valid Color Names</a></li>
<li class="chapter" data-level="8.1.3" data-path="basic-manipulation-examples.html"><a href="basic-manipulation-examples.html#example-me-and-you-plot"><i class="fa fa-check"></i><b>8.1.3</b> Example: Me and You plot</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Regex</b></span></li>
<li class="chapter" data-level="9" data-path="regex1.html"><a href="regex1.html"><i class="fa fa-check"></i><b>9</b> Regular Expressions</a><ul>
<li class="chapter" data-level="9.1" data-path="regex1.html"><a href="regex1.html#introduction-5"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="regex1.html"><a href="regex1.html#what-are-regular-expressions"><i class="fa fa-check"></i><b>9.2</b> What are Regular Expressions?</a><ul>
<li class="chapter" data-level="9.2.1" data-path="regex1.html"><a href="regex1.html#what-are-regular-expressions-used-for"><i class="fa fa-check"></i><b>9.2.1</b> What are Regular Expressions used for?</a></li>
<li class="chapter" data-level="9.2.2" data-path="regex1.html"><a href="regex1.html#a-word-of-caution-about-regex"><i class="fa fa-check"></i><b>9.2.2</b> A word of caution about regex</a></li>
<li class="chapter" data-level="9.2.3" data-path="regex1.html"><a href="regex1.html#regular-expressions-in-r"><i class="fa fa-check"></i><b>9.2.3</b> Regular Expressions in R</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="regex1.html"><a href="regex1.html#regex-basics"><i class="fa fa-check"></i><b>9.3</b> Regex Basics</a></li>
<li class="chapter" data-level="9.4" data-path="regex1.html"><a href="regex1.html#matching-literal-characters"><i class="fa fa-check"></i><b>9.4</b> Matching Literal Characters</a></li>
<li class="chapter" data-level="9.5" data-path="regex1.html"><a href="regex1.html#metacharacters"><i class="fa fa-check"></i><b>9.5</b> Metacharacters</a><ul>
<li class="chapter" data-level="9.5.1" data-path="regex1.html"><a href="regex1.html#the-wild-metacharacter"><i class="fa fa-check"></i><b>9.5.1</b> The Wild Metacharacter</a></li>
<li class="chapter" data-level="9.5.2" data-path="regex1.html"><a href="regex1.html#escaping-metacharacters"><i class="fa fa-check"></i><b>9.5.2</b> Escaping metacharacters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="character-sets.html"><a href="character-sets.html"><i class="fa fa-check"></i><b>10</b> Character Sets</a><ul>
<li class="chapter" data-level="10.1" data-path="character-sets.html"><a href="character-sets.html#defining-character-sets"><i class="fa fa-check"></i><b>10.1</b> Defining character sets</a></li>
<li class="chapter" data-level="10.2" data-path="character-sets.html"><a href="character-sets.html#character-ranges"><i class="fa fa-check"></i><b>10.2</b> Character ranges</a></li>
<li class="chapter" data-level="10.3" data-path="character-sets.html"><a href="character-sets.html#negative-character-sets"><i class="fa fa-check"></i><b>10.3</b> Negative Character Sets</a></li>
<li class="chapter" data-level="10.4" data-path="character-sets.html"><a href="character-sets.html#metacharacters-inside-character-sets"><i class="fa fa-check"></i><b>10.4</b> Metacharacters inside character sets</a></li>
<li class="chapter" data-level="10.5" data-path="character-sets.html"><a href="character-sets.html#character-classes"><i class="fa fa-check"></i><b>10.5</b> Character Classes</a></li>
<li class="chapter" data-level="10.6" data-path="character-sets.html"><a href="character-sets.html#posix-character-classes"><i class="fa fa-check"></i><b>10.6</b> POSIX Character Classes</a></li>
</ul></li>
<li class="part"><span><b>V Applications</b></span></li>
<li class="chapter" data-level="11" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>11</b> Practical Applications</a><ul>
<li class="chapter" data-level="11.1" data-path="applications.html"><a href="applications.html#introduction-6"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="reversing.html"><a href="reversing.html"><i class="fa fa-check"></i><b>12</b> Reversing Strings</a><ul>
<li class="chapter" data-level="12.1" data-path="reversing.html"><a href="reversing.html#introduction-7"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="reversing.html"><a href="reversing.html#reversing-characters"><i class="fa fa-check"></i><b>12.2</b> Reversing Characters</a></li>
<li class="chapter" data-level="12.3" data-path="reversing.html"><a href="reversing.html#reversing-words"><i class="fa fa-check"></i><b>12.3</b> Reversing Words</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>13</b> Matching HTML Tags</a><ul>
<li class="chapter" data-level="13.1" data-path="html.html"><a href="html.html#introduction-8"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="html.html"><a href="html.html#attributes-href"><i class="fa fa-check"></i><b>13.2</b> Attributes <code>href</code></a><ul>
<li class="chapter" data-level="13.2.1" data-path="html.html"><a href="html.html#getting-sig-links"><i class="fa fa-check"></i><b>13.2.1</b> Getting SIG links</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="logs.html"><a href="logs.html"><i class="fa fa-check"></i><b>14</b> Data Log File</a><ul>
<li class="chapter" data-level="14.1" data-path="logs.html"><a href="logs.html#reading-the-text-file"><i class="fa fa-check"></i><b>14.1</b> Reading the text file</a><ul>
<li class="chapter" data-level="14.1.1" data-path="logs.html"><a href="logs.html#jpg-file-requests"><i class="fa fa-check"></i><b>14.1.1</b> JPG File Requests</a></li>
<li class="chapter" data-level="14.1.2" data-path="logs.html"><a href="logs.html#extracting-file-extensions"><i class="fa fa-check"></i><b>14.1.2</b> Extracting file extensions</a></li>
<li class="chapter" data-level="14.1.3" data-path="logs.html"><a href="logs.html#image-files"><i class="fa fa-check"></i><b>14.1.3</b> Image files</a></li>
<li class="chapter" data-level="14.1.4" data-path="logs.html"><a href="logs.html#how-to-match-image-files-with-one-regex-pattern"><i class="fa fa-check"></i><b>14.1.4</b> How to match image files with one regex pattern?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="biomed.html"><a href="biomed.html"><i class="fa fa-check"></i><b>15</b> BMC Journals Data</a><ul>
<li class="chapter" data-level="15.1" data-path="biomed.html"><a href="biomed.html#introduction-9"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="biomed.html"><a href="biomed.html#analyzing-journal-names"><i class="fa fa-check"></i><b>15.2</b> Analyzing Journal Names</a><ul>
<li class="chapter" data-level="15.2.1" data-path="biomed.html"><a href="biomed.html#preprocessing"><i class="fa fa-check"></i><b>15.2.1</b> Preprocessing</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="biomed.html"><a href="biomed.html#summary-statistics"><i class="fa fa-check"></i><b>15.3</b> Summary statistics</a></li>
<li class="chapter" data-level="15.4" data-path="biomed.html"><a href="biomed.html#common-words"><i class="fa fa-check"></i><b>15.4</b> Common words</a></li>
<li class="chapter" data-level="15.5" data-path="biomed.html"><a href="biomed.html#the-top-30-words"><i class="fa fa-check"></i><b>15.5</b> The top 30 words</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handling Strings with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="biomed" class="section level1">
<h1><span class="header-section-number">15</span> BMC Journals Data</h1>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" data-line-number="1"><span class="kw">library</span>(stringr)</a></code></pre></div>
<div id="introduction-9" class="section level2">
<h2><span class="header-section-number">15.1</span> Introduction</h2>
<p>In this example we will work analyzing some text data. We will analyze an old catalog of journals from the <em>BioMed Central</em> (BMC), a scientific publisher that specializes in open access journal publication. You can find more informaiton of BMC at: <a href="https://www.biomedcentral.com/journals" class="uri">https://www.biomedcentral.com/journals</a></p>
<p>The data with the journal catalog is no longer available at BioMed’s website, but you can find a copy in the book’s github repository:</p>
<p><a href="https://raw.githubusercontent.com/gastonstat/r4strings/master/data/biomedcentral.txt" class="uri">https://raw.githubusercontent.com/gastonstat/r4strings/master/data/biomedcentral.txt</a></p>
<p>To download a copy of the text file to your working directory, run the following code:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1"><span class="co"># download file</span></a>
<a class="sourceLine" id="cb256-2" data-line-number="2">github &lt;-<span class="st"> &quot;https://raw.githubusercontent.com/gastonstat/r4strings&quot;</span></a>
<a class="sourceLine" id="cb256-3" data-line-number="3">textfile &lt;-<span class="st"> &quot;/master/data/biomedcentral.txt&quot;</span></a>
<a class="sourceLine" id="cb256-4" data-line-number="4"><span class="kw">download.file</span>(<span class="dt">url =</span> <span class="kw">paste0</span>(github, textfile), <span class="dt">destfile =</span> <span class="st">&quot;biomedcentral.txt&quot;</span>)</a></code></pre></div>
<p>To import the data in R you can read the file with <code>read.table()</code>:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb257-1" data-line-number="1"><span class="co"># read data (stringsAsFactors=FALSE)</span></a>
<a class="sourceLine" id="cb257-2" data-line-number="2">biomed &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&#39;biomedcentral.txt&#39;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p>You can check the structure of the data with the function <code>str()</code>:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1"><span class="co"># structure of the dataset</span></a>
<a class="sourceLine" id="cb258-2" data-line-number="2">utils<span class="op">::</span><span class="kw">str</span>(biomed, <span class="dt">vec.len =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb258-3" data-line-number="3"><span class="co">#&gt; &#39;data.frame&#39;:    336 obs. of  7 variables:</span></a>
<a class="sourceLine" id="cb258-4" data-line-number="4"><span class="co">#&gt;  $ Publisher     : chr  &quot;BioMed Central Ltd&quot; ...</span></a>
<a class="sourceLine" id="cb258-5" data-line-number="5"><span class="co">#&gt;  $ Journal.name  : chr  &quot;AIDS Research and Therapy&quot; ...</span></a>
<a class="sourceLine" id="cb258-6" data-line-number="6"><span class="co">#&gt;  $ Abbreviation  : chr  &quot;AIDS Res Ther&quot; ...</span></a>
<a class="sourceLine" id="cb258-7" data-line-number="7"><span class="co">#&gt;  $ ISSN          : chr  &quot;1742-6405&quot; ...</span></a>
<a class="sourceLine" id="cb258-8" data-line-number="8"><span class="co">#&gt;  $ URL           : chr  &quot;http://www.aidsrestherapy.com&quot; ...</span></a>
<a class="sourceLine" id="cb258-9" data-line-number="9"><span class="co">#&gt;  $ Start.Date    : int  2004 2011 ...</span></a>
<a class="sourceLine" id="cb258-10" data-line-number="10"><span class="co">#&gt;  $ Citation.Style: chr  &quot;BIOMEDCENTRAL&quot; ...</span></a></code></pre></div>
<p>As you can see, the data frame <code>biomed</code> has 336 observations and 7 variables. Actually, all the variables except for <code>Start.Date</code> are in character mode.</p>
</div>
<div id="analyzing-journal-names" class="section level2">
<h2><span class="header-section-number">15.2</span> Analyzing Journal Names</h2>
<p>We will do a simple analysis of the journal names. The goal is to study what are the more common terms used in the title of the journals. We are going to keep things at a basic level but for a more formal (and sophisticated) analysis you can check the package <code>tm</code> —text mining— (by Ingo Feinerer).</p>
<p>To have a better idea of what the data looks like, let’s check the first journal names.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb259-1" data-line-number="1"><span class="co"># first 5 journal names</span></a>
<a class="sourceLine" id="cb259-2" data-line-number="2"><span class="kw">head</span>(biomed<span class="op">$</span>Journal.name, <span class="dt">n =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb259-3" data-line-number="3"><span class="co">#&gt; [1] &quot;AIDS Research and Therapy&quot;            </span></a>
<a class="sourceLine" id="cb259-4" data-line-number="4"><span class="co">#&gt; [2] &quot;AMB Express&quot;                          </span></a>
<a class="sourceLine" id="cb259-5" data-line-number="5"><span class="co">#&gt; [3] &quot;Acta Neuropathologica Communications&quot; </span></a>
<a class="sourceLine" id="cb259-6" data-line-number="6"><span class="co">#&gt; [4] &quot;Acta Veterinaria Scandinavica&quot;        </span></a>
<a class="sourceLine" id="cb259-7" data-line-number="7"><span class="co">#&gt; [5] &quot;Addiction Science &amp; Clinical Practice&quot;</span></a></code></pre></div>
<p>As you can tell, the fifth journal <code>&quot;Addiction Science &amp; Clinical Practice&quot;</code> has an ampersand <code>&amp;</code> symbol. Whether to keep the ampersand and other punctutation symbols depends on the objectives of the analysis. In our case, we will remove those elements.</p>
<div id="preprocessing" class="section level3">
<h3><span class="header-section-number">15.2.1</span> Preprocessing</h3>
<p>The preprocessing steps implies to get rid of the punctuation symbols. For convenience, I recommended that you start working with a small subset of the data. In this way you can experiment at a small scale until we are confident with the right manipulations. Let’s take the first 10 journals:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1"><span class="co"># get first 10 names</span></a>
<a class="sourceLine" id="cb260-2" data-line-number="2">titles10a &lt;-<span class="st"> </span>biomed<span class="op">$</span>Journal.name[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb260-3" data-line-number="3">titles10a</a>
<a class="sourceLine" id="cb260-4" data-line-number="4"><span class="co">#&gt;  [1] &quot;AIDS Research and Therapy&quot;            </span></a>
<a class="sourceLine" id="cb260-5" data-line-number="5"><span class="co">#&gt;  [2] &quot;AMB Express&quot;                          </span></a>
<a class="sourceLine" id="cb260-6" data-line-number="6"><span class="co">#&gt;  [3] &quot;Acta Neuropathologica Communications&quot; </span></a>
<a class="sourceLine" id="cb260-7" data-line-number="7"><span class="co">#&gt;  [4] &quot;Acta Veterinaria Scandinavica&quot;        </span></a>
<a class="sourceLine" id="cb260-8" data-line-number="8"><span class="co">#&gt;  [5] &quot;Addiction Science &amp; Clinical Practice&quot;</span></a>
<a class="sourceLine" id="cb260-9" data-line-number="9"><span class="co">#&gt;  [6] &quot;Agriculture &amp; Food Security&quot;          </span></a>
<a class="sourceLine" id="cb260-10" data-line-number="10"><span class="co">#&gt;  [7] &quot;Algorithms for Molecular Biology&quot;     </span></a>
<a class="sourceLine" id="cb260-11" data-line-number="11"><span class="co">#&gt;  [8] &quot;Allergy, Asthma &amp; Clinical Immunology&quot;</span></a>
<a class="sourceLine" id="cb260-12" data-line-number="12"><span class="co">#&gt;  [9] &quot;Alzheimer&#39;s Research &amp; Therapy&quot;       </span></a>
<a class="sourceLine" id="cb260-13" data-line-number="13"><span class="co">#&gt; [10] &quot;Animal Biotelemetry&quot;</span></a></code></pre></div>
<p>We want to get rid of the ampersand signs <code>&amp;</code>, as well as other punctuation marks. This can be done with <code>str_replace_all()</code> and replacing the pattern <code>[[:punct:]]</code> with empty strings <code>&quot;&quot;</code> (don’t forget to load the <code>&quot;stringr&quot;</code> package)</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" data-line-number="1"><span class="co"># remove punctuation</span></a>
<a class="sourceLine" id="cb261-2" data-line-number="2">titles10b &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(titles10a, <span class="dt">pattern =</span> <span class="st">&quot;[[:punct:]]&quot;</span>, <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb261-3" data-line-number="3">titles10b</a>
<a class="sourceLine" id="cb261-4" data-line-number="4"><span class="co">#&gt;  [1] &quot;AIDS Research and Therapy&quot;           </span></a>
<a class="sourceLine" id="cb261-5" data-line-number="5"><span class="co">#&gt;  [2] &quot;AMB Express&quot;                         </span></a>
<a class="sourceLine" id="cb261-6" data-line-number="6"><span class="co">#&gt;  [3] &quot;Acta Neuropathologica Communications&quot;</span></a>
<a class="sourceLine" id="cb261-7" data-line-number="7"><span class="co">#&gt;  [4] &quot;Acta Veterinaria Scandinavica&quot;       </span></a>
<a class="sourceLine" id="cb261-8" data-line-number="8"><span class="co">#&gt;  [5] &quot;Addiction Science  Clinical Practice&quot;</span></a>
<a class="sourceLine" id="cb261-9" data-line-number="9"><span class="co">#&gt;  [6] &quot;Agriculture  Food Security&quot;          </span></a>
<a class="sourceLine" id="cb261-10" data-line-number="10"><span class="co">#&gt;  [7] &quot;Algorithms for Molecular Biology&quot;    </span></a>
<a class="sourceLine" id="cb261-11" data-line-number="11"><span class="co">#&gt;  [8] &quot;Allergy Asthma  Clinical Immunology&quot; </span></a>
<a class="sourceLine" id="cb261-12" data-line-number="12"><span class="co">#&gt;  [9] &quot;Alzheimers Research  Therapy&quot;        </span></a>
<a class="sourceLine" id="cb261-13" data-line-number="13"><span class="co">#&gt; [10] &quot;Animal Biotelemetry&quot;</span></a></code></pre></div>
<p>We succesfully replaced the punctuation symbols with empty strings, but now we have extra whitespaces. To remove the whitespaces we will use again <code>str_replace_all()</code> to replace any one or more whitespaces<br />
<code>\\s+</code> with a single blank space <code>&quot; &quot;</code>.</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1"><span class="co"># trim extra whitespaces</span></a>
<a class="sourceLine" id="cb262-2" data-line-number="2">titles10c &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(titles10b, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s+&quot;</span>, <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb262-3" data-line-number="3">titles10c</a>
<a class="sourceLine" id="cb262-4" data-line-number="4"><span class="co">#&gt;  [1] &quot;AIDS Research and Therapy&quot;           </span></a>
<a class="sourceLine" id="cb262-5" data-line-number="5"><span class="co">#&gt;  [2] &quot;AMB Express&quot;                         </span></a>
<a class="sourceLine" id="cb262-6" data-line-number="6"><span class="co">#&gt;  [3] &quot;Acta Neuropathologica Communications&quot;</span></a>
<a class="sourceLine" id="cb262-7" data-line-number="7"><span class="co">#&gt;  [4] &quot;Acta Veterinaria Scandinavica&quot;       </span></a>
<a class="sourceLine" id="cb262-8" data-line-number="8"><span class="co">#&gt;  [5] &quot;Addiction Science Clinical Practice&quot; </span></a>
<a class="sourceLine" id="cb262-9" data-line-number="9"><span class="co">#&gt;  [6] &quot;Agriculture Food Security&quot;           </span></a>
<a class="sourceLine" id="cb262-10" data-line-number="10"><span class="co">#&gt;  [7] &quot;Algorithms for Molecular Biology&quot;    </span></a>
<a class="sourceLine" id="cb262-11" data-line-number="11"><span class="co">#&gt;  [8] &quot;Allergy Asthma Clinical Immunology&quot;  </span></a>
<a class="sourceLine" id="cb262-12" data-line-number="12"><span class="co">#&gt;  [9] &quot;Alzheimers Research Therapy&quot;         </span></a>
<a class="sourceLine" id="cb262-13" data-line-number="13"><span class="co">#&gt; [10] &quot;Animal Biotelemetry&quot;</span></a></code></pre></div>
<p>Once we have a better idea of how to preprocess the journal names, we can proceed with all the 336 titles.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb263-1" data-line-number="1"><span class="co"># remove punctuation symbols</span></a>
<a class="sourceLine" id="cb263-2" data-line-number="2">all_titles &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(biomed<span class="op">$</span>Journal.name, <span class="dt">pattern =</span> <span class="st">&quot;[[:punct:]]&quot;</span>, <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb263-3" data-line-number="3"></a>
<a class="sourceLine" id="cb263-4" data-line-number="4"><span class="co"># trim extra whitespaces</span></a>
<a class="sourceLine" id="cb263-5" data-line-number="5">all_titles &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(all_titles, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">s+&quot;</span>, <span class="st">&quot; &quot;</span>)</a></code></pre></div>
<p>The next step is to split up the titles into its different terms (the output is a list).</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" data-line-number="1"><span class="co"># split titles by words</span></a>
<a class="sourceLine" id="cb264-2" data-line-number="2">all_titles_list &lt;-<span class="st"> </span><span class="kw">str_split</span>(all_titles, <span class="dt">pattern =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb264-3" data-line-number="3"></a>
<a class="sourceLine" id="cb264-4" data-line-number="4"><span class="co"># show first 2 elements</span></a>
<a class="sourceLine" id="cb264-5" data-line-number="5">all_titles_list[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb264-6" data-line-number="6"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb264-7" data-line-number="7"><span class="co">#&gt; [1] &quot;AIDS&quot;     &quot;Research&quot; &quot;and&quot;      &quot;Therapy&quot; </span></a>
<a class="sourceLine" id="cb264-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb264-9" data-line-number="9"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb264-10" data-line-number="10"><span class="co">#&gt; [1] &quot;AMB&quot;     &quot;Express&quot;</span></a></code></pre></div>
</div>
</div>
<div id="summary-statistics" class="section level2">
<h2><span class="header-section-number">15.3</span> Summary statistics</h2>
<p>So far we have a list that contains the words of each journal name. Wouldn’t be interesting to know more about the distribution of the number of terms in each title? This means that we need to calculate how many words are in each title. To get these numbers let’s use <code>length()</code> within <code>sapply()</code>; and then let’s tabulate the obtained frequencies:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb265-1" data-line-number="1"><span class="co"># how many words per title</span></a>
<a class="sourceLine" id="cb265-2" data-line-number="2">words_per_title &lt;-<span class="st"> </span><span class="kw">sapply</span>(all_titles_list, length)</a>
<a class="sourceLine" id="cb265-3" data-line-number="3"></a>
<a class="sourceLine" id="cb265-4" data-line-number="4"><span class="co"># table of frequencies</span></a>
<a class="sourceLine" id="cb265-5" data-line-number="5"><span class="kw">table</span>(words_per_title)</a>
<a class="sourceLine" id="cb265-6" data-line-number="6"><span class="co">#&gt; words_per_title</span></a>
<a class="sourceLine" id="cb265-7" data-line-number="7"><span class="co">#&gt;   1   2   3   4   5   6   7   8   9 </span></a>
<a class="sourceLine" id="cb265-8" data-line-number="8"><span class="co">#&gt;  17 108  81  55  33  31   6   4   1</span></a></code></pre></div>
<p>We can also express the distribution as percentages, and we can get some summary statistics with <code>summary()</code></p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1"><span class="co"># distribution</span></a>
<a class="sourceLine" id="cb266-2" data-line-number="2"><span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="kw">round</span>(<span class="kw">table</span>(words_per_title) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(words_per_title), <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb266-3" data-line-number="3"><span class="co">#&gt; words_per_title</span></a>
<a class="sourceLine" id="cb266-4" data-line-number="4"><span class="co">#&gt;     1     2     3     4     5     6     7     8     9 </span></a>
<a class="sourceLine" id="cb266-5" data-line-number="5"><span class="co">#&gt;  5.06 32.14 24.11 16.37  9.82  9.23  1.79  1.19  0.30</span></a>
<a class="sourceLine" id="cb266-6" data-line-number="6"></a>
<a class="sourceLine" id="cb266-7" data-line-number="7"><span class="co"># summary</span></a>
<a class="sourceLine" id="cb266-8" data-line-number="8"><span class="kw">summary</span>(words_per_title)</a>
<a class="sourceLine" id="cb266-9" data-line-number="9"><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb266-10" data-line-number="10"><span class="co">#&gt;    1.00    2.00    3.00    3.36    4.00    9.00</span></a></code></pre></div>
<p>Looking at summary statistics we can say that around 30% of journal names have 2 words. Likewise, the median number of words per title is 3 words.</p>
<p>Interestingly the maximum value is 9 words. What is the journal with 9 terms in its title? We can find the longest journal name as follows:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb267-1" data-line-number="1"><span class="co"># longest journal</span></a>
<a class="sourceLine" id="cb267-2" data-line-number="2">all_titles[<span class="kw">which</span>(words_per_title <span class="op">==</span><span class="st"> </span><span class="dv">9</span>)]</a>
<a class="sourceLine" id="cb267-3" data-line-number="3"><span class="co">#&gt; [1] &quot;Journal of Venomous Animals and Toxins including Tropical Diseases&quot;</span></a></code></pre></div>
</div>
<div id="common-words" class="section level2">
<h2><span class="header-section-number">15.4</span> Common words</h2>
<p>Remember that our main goal with this example is to find out what words are the most common in the journal titles. To answer this question we first need to create something like a <em>dictionary</em> of words. How do get such dictionary? Easy, we just have to obtain a vector containing all the words in the titles:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" data-line-number="1"><span class="co"># vector of words in titles</span></a>
<a class="sourceLine" id="cb268-2" data-line-number="2">title_words &lt;-<span class="st"> </span><span class="kw">unlist</span>(all_titles_list)</a>
<a class="sourceLine" id="cb268-3" data-line-number="3"></a>
<a class="sourceLine" id="cb268-4" data-line-number="4"><span class="co"># get unique words</span></a>
<a class="sourceLine" id="cb268-5" data-line-number="5">unique_words &lt;-<span class="st"> </span><span class="kw">unique</span>(title_words)</a>
<a class="sourceLine" id="cb268-6" data-line-number="6"></a>
<a class="sourceLine" id="cb268-7" data-line-number="7"><span class="co"># how many unique words in total</span></a>
<a class="sourceLine" id="cb268-8" data-line-number="8">num_unique_words &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(title_words))</a>
<a class="sourceLine" id="cb268-9" data-line-number="9">num_unique_words</a>
<a class="sourceLine" id="cb268-10" data-line-number="10"><span class="co">#&gt; [1] 441</span></a></code></pre></div>
<p>Applying <code>unique()</code> to the vector <code>title_words</code> we get the desired dictionary of terms, which has a total of 441 words.</p>
<p>Once we have the unique words, we need to count how many times each of them appears in the titles. Here’s a way to do that:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb269-1" data-line-number="1"><span class="co"># vector to store counts</span></a>
<a class="sourceLine" id="cb269-2" data-line-number="2">count_words &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, num_unique_words)</a>
<a class="sourceLine" id="cb269-3" data-line-number="3"></a>
<a class="sourceLine" id="cb269-4" data-line-number="4"><span class="co"># count number of occurrences</span></a>
<a class="sourceLine" id="cb269-5" data-line-number="5"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>num_unique_words) {</a>
<a class="sourceLine" id="cb269-6" data-line-number="6">  count_words[i] &lt;-<span class="st"> </span><span class="kw">sum</span>(title_words <span class="op">==</span><span class="st"> </span>unique_words[i])</a>
<a class="sourceLine" id="cb269-7" data-line-number="7">}</a></code></pre></div>
<p>An alternative simpler way to count the number of word occurrences is by using the <code>table()</code> function on <code>title\_words</code>:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1"><span class="co"># table with word frequencies</span></a>
<a class="sourceLine" id="cb270-2" data-line-number="2">count_words_alt &lt;-<span class="st"> </span><span class="kw">table</span>(title_words)</a></code></pre></div>
<p>In any of both cases (<code>count_words</code> or <code>count_words_alt</code>), we can examine the obtained frequencies with a simple table:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb271-1" data-line-number="1"><span class="co"># table of frequencies</span></a>
<a class="sourceLine" id="cb271-2" data-line-number="2"><span class="kw">table</span>(count_words)</a>
<a class="sourceLine" id="cb271-3" data-line-number="3"><span class="co">#&gt; count_words</span></a>
<a class="sourceLine" id="cb271-4" data-line-number="4"><span class="co">#&gt;   1   2   3   4   5   6   7   9  10  12  13  16  22  24  28  30  65  67 </span></a>
<a class="sourceLine" id="cb271-5" data-line-number="5"><span class="co">#&gt; 318  61  24   8   5   7   1   2   2   2   1   2   1   1   1   1   1   1 </span></a>
<a class="sourceLine" id="cb271-6" data-line-number="6"><span class="co">#&gt;  83  86 </span></a>
<a class="sourceLine" id="cb271-7" data-line-number="7"><span class="co">#&gt;   1   1</span></a>
<a class="sourceLine" id="cb271-8" data-line-number="8"></a>
<a class="sourceLine" id="cb271-9" data-line-number="9"><span class="co"># equivalently</span></a>
<a class="sourceLine" id="cb271-10" data-line-number="10"><span class="kw">table</span>(count_words_alt)</a>
<a class="sourceLine" id="cb271-11" data-line-number="11"><span class="co">#&gt; count_words_alt</span></a>
<a class="sourceLine" id="cb271-12" data-line-number="12"><span class="co">#&gt;   1   2   3   4   5   6   7   9  10  12  13  16  22  24  28  30  65  67 </span></a>
<a class="sourceLine" id="cb271-13" data-line-number="13"><span class="co">#&gt; 318  61  24   8   5   7   1   2   2   2   1   2   1   1   1   1   1   1 </span></a>
<a class="sourceLine" id="cb271-14" data-line-number="14"><span class="co">#&gt;  83  86 </span></a>
<a class="sourceLine" id="cb271-15" data-line-number="15"><span class="co">#&gt;   1   1</span></a></code></pre></div>
</div>
<div id="the-top-30-words" class="section level2">
<h2><span class="header-section-number">15.5</span> The top 30 words</h2>
<p>For illustration purposes let’s examine which are the top 30 common words.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1"><span class="co"># index values in decreasing order</span></a>
<a class="sourceLine" id="cb272-2" data-line-number="2">top_<span class="dv">30</span>_order &lt;-<span class="st"> </span><span class="kw">order</span>(count_words, <span class="dt">decreasing=</span><span class="ot">TRUE</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">30</span>]</a>
<a class="sourceLine" id="cb272-3" data-line-number="3"></a>
<a class="sourceLine" id="cb272-4" data-line-number="4"><span class="co"># top 30 frequencies</span></a>
<a class="sourceLine" id="cb272-5" data-line-number="5">top_<span class="dv">30</span>_freqs &lt;-<span class="st"> </span><span class="kw">sort</span>(count_words, <span class="dt">decreasing=</span><span class="ot">TRUE</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">30</span>]</a>
<a class="sourceLine" id="cb272-6" data-line-number="6"></a>
<a class="sourceLine" id="cb272-7" data-line-number="7"><span class="co"># select top 30 words</span></a>
<a class="sourceLine" id="cb272-8" data-line-number="8">top_<span class="dv">30</span>_words &lt;-<span class="st"> </span>unique_words[top_<span class="dv">30</span>_order]</a>
<a class="sourceLine" id="cb272-9" data-line-number="9">top_<span class="dv">30</span>_words</a>
<a class="sourceLine" id="cb272-10" data-line-number="10"><span class="co">#&gt;  [1] &quot;Journal&quot;        &quot;of&quot;             &quot;BMC&quot;            &quot;and&quot;           </span></a>
<a class="sourceLine" id="cb272-11" data-line-number="11"><span class="co">#&gt;  [5] &quot;Research&quot;       &quot;Medicine&quot;       &quot;Health&quot;         &quot;Biology&quot;       </span></a>
<a class="sourceLine" id="cb272-12" data-line-number="12"><span class="co">#&gt;  [9] &quot;Clinical&quot;       &quot;International&quot;  &quot;Medical&quot;        &quot;Molecular&quot;     </span></a>
<a class="sourceLine" id="cb272-13" data-line-number="13"><span class="co">#&gt; [13] &quot;in&quot;             &quot;Science&quot;        &quot;Cell&quot;           &quot;Cancer&quot;        </span></a>
<a class="sourceLine" id="cb272-14" data-line-number="14"><span class="co">#&gt; [17] &quot;Disorders&quot;      &quot;Systems&quot;        &quot;Therapy&quot;        &quot;for&quot;           </span></a>
<a class="sourceLine" id="cb272-15" data-line-number="15"><span class="co">#&gt; [21] &quot;Environmental&quot;  &quot;Diseases&quot;       &quot;Surgery&quot;        &quot;Translational&quot; </span></a>
<a class="sourceLine" id="cb272-16" data-line-number="16"><span class="co">#&gt; [25] &quot;Oncology&quot;       &quot;Practice&quot;       &quot;Annals&quot;         &quot;Policy&quot;        </span></a>
<a class="sourceLine" id="cb272-17" data-line-number="17"><span class="co">#&gt; [29] &quot;Cardiovascular&quot; &quot;Biomedical&quot;</span></a></code></pre></div>
<p>To visualize the <code>top_30_words</code> we can plot them with a barchart using <code>barplot()</code>:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb273-1" data-line-number="1"><span class="co"># barplot</span></a>
<a class="sourceLine" id="cb273-2" data-line-number="2"><span class="kw">barplot</span>(top_<span class="dv">30</span>_freqs, </a>
<a class="sourceLine" id="cb273-3" data-line-number="3">        <span class="dt">border =</span> <span class="ot">NA</span>, </a>
<a class="sourceLine" id="cb273-4" data-line-number="4">        <span class="dt">names.arg =</span> top_<span class="dv">30</span>_words, </a>
<a class="sourceLine" id="cb273-5" data-line-number="5">        <span class="dt">las =</span> <span class="dv">2</span>, </a>
<a class="sourceLine" id="cb273-6" data-line-number="6">        <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">100</span>))</a></code></pre></div>
<p><img src="_main_files/figure-html4/top30barplot-1.png" width="70%" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="logs.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/gastonstat/r4strings/edit/master/biomed.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
